<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureSwipe Hyderabad | Professional Credit Card Services</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Premium Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@700;800&family=Source+Code+Pro:wght@500&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --brand-primary: #0f172a;
            --brand-accent: #2563eb;
            --brand-warning: #f59e0b;
            --surface-50: #f8fafc;
            --surface-100: #f1f5f9;
            --text-main: #1e293b;
            --text-muted: #64748b;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-main);
            background-color: #ffffff;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            margin: 0; padding: 0;
        }

        h1, h2, h3, h4, .navbar-brand { font-family: 'Plus Jakarta Sans', sans-serif; letter-spacing: -0.02em; }

        /* Navigation */
        .navbar {
            padding: 1rem 0;
            background: rgba(255, 255, 255, 0.9) !important;
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--surface-100);
            z-index: 1030; 
        }

        /* Hero */
        .hero-section {
            padding: 130px 0 60px;
            background: radial-gradient(circle at 100% 0%, #eff6ff 0%, #ffffff 60%);
        }

        .hyd-badge {
            background: #fffbeb; color: #b45309; padding: 6px 14px; border-radius: 100px;
            font-weight: 700; font-size: 11px; text-transform: uppercase; border: 1px solid #fef3c7; margin-bottom: 1.5rem;
            display: inline-flex; align-items: center;
        }

        /* Promo Card */
        .promo-card {
            background: var(--brand-primary); border-radius: 32px; padding: 45px 30px; color: white;
            box-shadow: 0 30px 60px -12px rgba(15, 23, 42, 0.4); text-align: center; position: relative;
        }

        .main-rate-display { font-size: 5rem; font-weight: 800; color: var(--brand-warning); line-height: 1; margin: 10px 0; }

        .dialogue-bubble {
            background: rgba(255, 255, 255, 0.07); border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px; padding: 24px; margin: 25px 0; font-size: 1.05rem; line-height: 1.5;
        }

        /* Buttons Fix */
        .promo-btn-group { display: flex; gap: 12px; width: 100%; }
        .btn-promo {
            flex: 1; height: 60px; border-radius: 16px; font-weight: 700; text-decoration: none;
            display: flex; align-items: center; justify-content: center; transition: 0.2s; font-size: 0.95rem; border: none;
        }
        .btn-promo-wa { background: #ffffff; color: #25d366; }
        .btn-promo-call { background: var(--brand-warning); color: #000; }

        /* 3D VIRTUAL CARD STYLES */
        .card-container {
            perspective: 1000px; width: 100%; max-width: 320px; margin: 0 auto; height: 190px;
        }

        .card-inner {
            position: relative; width: 100%; height: 100%;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); transform-style: preserve-3d;
        }

        .card-container.flipped .card-inner { transform: rotateY(180deg); }

        .card-front, .card-back {
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
            border-radius: 14px; box-shadow: 0 10px 20px rgba(0,0,0,0.2); color: #fff;
            padding: 18px; background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); overflow: hidden;
        }

        .card-back { transform: rotateY(180deg); background: #1e293b; padding: 0; }
        .chip { width: 38px; height: 28px; background: linear-gradient(135deg, #fde68a 0%, #f59e0b 100%); border-radius: 5px; margin-bottom: 12px; position: relative; }
        .chip::after { content: ''; position: absolute; top: 6px; left: 6px; right: 6px; bottom: 6px; border: 1px solid rgba(0,0,0,0.1); }
        .contactless { position: absolute; top: 20px; right: 18px; opacity: 0.6; font-size: 1.1rem; }
        .card-number-display { font-family: 'Source Code Pro', monospace; font-size: 1.1rem; letter-spacing: 2px; margin-bottom: 15px; display: block; text-shadow: 2px 2px 2px rgba(0,0,0,0.3); }
        .card-info-row { display: flex; justify-content: space-between; align-items: flex-end; }
        .label-small { font-size: 7px; text-transform: uppercase; opacity: 0.7; letter-spacing: 1px; margin-bottom: 2px; }
        .value-text { font-size: 11px; font-weight: 600; text-transform: uppercase; }
        .magnetic-strip { width: 100%; height: 35px; background: #000; margin-top: 20px; }
        .signature-bar { width: 80%; height: 30px; background: #fff; margin: 15px auto 0 20px; display: flex; align-items: center; justify-content: flex-end; padding-right: 10px; border-radius: 4px; }
        .cvv-display { color: #000; font-family: 'Source Code Pro', monospace; font-weight: 700; font-style: italic; }

        /* Sections */
        .img-satisfaction { width: 100%; height: auto; border-radius: 32px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .process-img { width: 100%; height: 180px; border-radius: 24px; object-fit: cover; margin-bottom: 20px; background: var(--surface-100); }
        .step-num { width: 32px; height: 32px; background: var(--brand-accent); color: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 800; margin: 0 auto 15px; font-size: 0.8rem; }
        .testimonial-card { background: var(--surface-50); border-radius: 28px; padding: 35px; border: 1px solid var(--surface-100); height: 100%; text-align: center; }
        .client-avatar { width: 75px; height: 75px; border-radius: 50%; object-fit: cover; margin-bottom: 15px; border: 4px solid #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }

        /* MODAL - SINGLE SCREEN NO SCROLL FIX */
        .modal { z-index: 2000; }
        .modal-dialog { max-width: 860px; margin: 1.5rem auto; }
        .modal-content { border-radius: 20px; border: none; overflow: visible; position: relative; }
        
        .btn-modal-close {
            position: absolute; top: 12px; right: 12px; width: 32px; height: 32px;
            background: #fff; border: 2px solid var(--brand-accent); border-radius: 50%;
            color: var(--brand-accent); display: flex; align-items: center; justify-content: center;
            font-size: 1rem; z-index: 2100; transition: 0.2s; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .btn-modal-close:hover { background: var(--brand-accent); color: #fff; }

        .modal-body { padding: 20px 25px !important; }
        .calc-panel { background: var(--brand-accent); color: white; border-radius: 12px; padding: 12px; margin-top: 10px; }

        .form-control { border-radius: 8px; border: 1px solid #e2e8f0; padding: 8px 12px; font-size: 0.9rem; }
        .form-label { margin-bottom: 2px; font-size: 0.75rem; font-weight: 700; color: #475569; }

        .trust-note { font-size: 10.5px; line-height: 1.4; color: #64748b; margin-top: 10px; text-align: center; }

        .site-footer { background: var(--brand-primary); color: #cbd5e1; padding: 60px 0 60px; border-top: 1px solid rgba(255,255,255,0.05); }

        @media (max-width: 991px) {
            .modal-dialog { max-width: 480px; margin: 0.5rem auto; }
            .inline-modal-container { flex-direction: column; }
            .card-col { margin-bottom: 15px; }
            .card-container { transform: scale(0.9); height: 170px; }
            .modal-body { padding: 15px !important; }
            .btn-modal-close { top: 10px; right: 10px; border: none; background: #f1f5f9; }
        }

        @media (max-width: 768px) {
            .modal-dialog { margin-left: 15px; margin-right: 15px; } /* Space at edges */
            .hero-section { padding: 100px 0 40px; }
            .display-3 { font-size: 2.2rem; }
            .main-rate-display { font-size: 3.5rem; }
            .promo-btn-group { flex-direction: column; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container px-4">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <div class="bg-primary text-white p-2 rounded-3 me-2" style="width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-bolt fa-sm"></i>
                </div>
                <span class="fw-800 fs-5 text-dark">Secure<span class="text-primary">Swipe</span></span>
            </a>
            <div class="ms-auto d-flex align-items-center gap-3">
                <span class="d-none d-md-block text-muted small fw-600"><i class="fas fa-location-dot text-danger"></i> Trusted Hyderabad Support</span>
                <a href="tel:+919866783703" class="btn btn-primary btn-sm rounded-pill px-4 fw-700 shadow-sm">Contact Now</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container px-4">
            <div class="row align-items-center">
                <div class="col-lg-6 text-center text-lg-start mb-5 mb-lg-0">
                    <div class="hyd-badge">
                        <i class="fas fa-heart me-2 text-danger"></i> No.1 Ranked in Hyderabad
                    </div>
                    <h1 class="display-3 fw-800 mb-4">Hyderabad's Trusted Credit Card Service.</h1>
                    <p class="text-muted fs-5 mb-5 mx-auto mx-lg-0" style="max-width: 520px;">
                        Immediate cash liquidity with 100% security. Join thousands of happy Hyderabadis managing their cash flow daily.
                    </p>
                    <div class="d-none d-lg-flex align-items-center gap-3">
                         <img src="https://images.unsplash.com/photo-1556740714-a8395b3bf30f?w=400&q=80" class="rounded-4 shadow-lg" style="width: 120px; height: 70px; object-fit: cover;" alt="Trusted Agent">
                         <span class="fw-800 text-primary small">Trusted Local Partner</span>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="promo-card">
                        <div class="text-uppercase small fw-800 tracking-wider opacity-50 mb-1" style="font-size: 10px;">Immediate Settlement Guaranteed</div>
                        <h2 class="h5 fw-800 mt-2 mb-0">Withdrawals & Bill Payments</h2>
                        <div class="main-rate-display">2.5%</div>
                        <div class="dialogue-bubble">
                            "Why worry about card payments? ðŸ’³ <br>
                            <strong>We're here for you!</strong> We pay your bills & you withdraw instantly at just <strong>2.5%</strong>." ðŸš€
                        </div>
                        <div class="promo-btn-group">
                            <a href="https://wa.me/919866783703" class="btn-promo btn-promo-wa shadow-sm">
                                <i class="fab fa-whatsapp me-2"></i> WhatsApp
                            </a>
                            <a href="tel:+919866783703" class="btn-promo btn-promo-call shadow-sm">
                                <i class="fas fa-phone-alt me-2"></i> Call Now
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Satisfaction visual -->
    <section class="py-5">
        <div class="container px-4">
            <div class="row align-items-center g-5 text-center text-md-start">
                <div class="col-md-6 order-md-2">
                    <img src="https://images.unsplash.com/photo-1556742044-3c52d6e88c62?w=800&q=80" class="img-satisfaction" alt="Happy Customer">
                </div>
                <div class="col-md-6">
                    <h2 class="fw-800 mb-4 text-brand-primary">Fast Cash for Happy Faces. ðŸ˜Š</h2>
                    <p class="text-muted fs-5">Get immediate liquidity from your credit card without any long procedures. Join thousands of satisfied Hyderabad business owners today.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Standard Rates -->
    <section class="py-5 bg-light rounded-5 mx-2 mx-lg-5">
        <div class="container px-4 text-center">
            <h3 class="fw-800 mb-1">Standard Swipe Rates</h3>
            <p class="text-muted small mb-5">Clear charges. Instant bank transfer.</p>
            <div class="row g-3 justify-content-center">
                <div class="col-6 col-md-5 col-lg-4">
                    <div class="bg-white border rounded-4 p-4 text-center shadow-sm cursor-pointer hover-lift" data-bs-toggle="modal" data-bs-target="#swipeModal" data-card-type="VISA & RUPAY" data-percent="1.7" style="cursor: pointer;">
                        <img src="https://img.icons8.com/color/96/visa.png" width="48" alt="Visa">
                        <div class="small fw-800 text-muted opacity-50 mt-1">VISA & RUPAY</div>
                        <div class="h2 fw-800 text-primary my-2">1.7%</div>
                        <div class="text-primary fw-700 small">Start <i class="fas fa-arrow-right ms-1"></i></div>
                    </div>
                </div>
                <div class="col-6 col-md-5 col-lg-4">
                    <div class="bg-white border rounded-4 p-4 text-center shadow-sm cursor-pointer hover-lift" data-bs-toggle="modal" data-bs-target="#swipeModal" data-card-type="MASTERCARD" data-percent="2.0" style="cursor: pointer;">
                        <img src="https://img.icons8.com/color/96/mastercard.png" width="48" alt="Mastercard">
                        <div class="small fw-800 text-muted opacity-50 mt-1">MASTERCARD</div>
                        <div class="h2 fw-800 text-primary my-2">2.0%</div>
                        <div class="text-primary fw-700 small">Start <i class="fas fa-arrow-right ms-1"></i></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Professional Process -->
    <section class="py-5 mt-5">
        <div class="container px-4 text-center">
            <h4 class="fw-800 mb-5">Professional 4-Step Process</h4>
            <div class="row g-4">
                <div class="col-6 col-lg-3">
                    <img src="https://images.unsplash.com/photo-1556740738-b6a63e27c4df?w=400&q=80" class="process-img shadow-sm" alt="Consultation">
                    <div class="step-num">1</div>
                    <h6 class="fw-800">Consult</h6>
                    <p class="small text-muted">Talk to Local Rep</p>
                </div>
                <div class="col-6 col-lg-3">
                    <img src="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=400&q=80" class="process-img shadow-sm" alt="Verify">
                    <div class="step-num">2</div>
                    <h6 class="fw-800">Verify</h6>
                    <p class="small text-muted">Quick Documentation</p>
                </div>
                <div class="col-6 col-lg-3">
                    <img src="https://images.unsplash.com/photo-1556740758-90de374c12ad?w=400&q=80" class="process-img shadow-sm" alt="Swipe">
                    <div class="step-num">3</div>
                    <h6 class="fw-800">Swipe</h6>
                    <p class="small text-muted">Authorized Terminal</p>
                </div>
                <div class="col-6 col-lg-3">
                    <img src="https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=400&q=80" class="process-img shadow-sm" alt="Receive Cash">
                    <div class="step-num">4</div>
                    <h6 class="fw-800">Receive</h6>
                    <p class="small text-muted">Immediate Settlement</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews -->
    <section class="py-5">
        <div class="container px-4">
            <h4 class="fw-800 text-center mb-5">Hyderabad Customer Stories</h4>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="testimonial-card">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop" class="client-avatar" alt="Reviewer">
                        <div class="text-warning mb-2 small"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="small text-muted mb-0">"Excellent service in Kukatpally. Settlement was instant and professional. Best rates I found in the city."</p>
                        <h6 class="fw-800 small mt-3 mb-0 text-primary">Ravi â€“ Kukatpally</h6>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="testimonial-card">
                        <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop" class="client-avatar" alt="Reviewer">
                        <div class="text-warning mb-2 small"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="small text-muted mb-0">"Reliable for business needs. Their 2.5% bill payment service is a lifesaver for managing cash flow."</p>
                        <h6 class="fw-800 small mt-3 mb-0 text-primary">Imran â€“ Tolichowki</h6>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="testimonial-card">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop" class="client-avatar" alt="Reviewer">
                        <div class="text-warning mb-2 small"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <p class="small text-muted mb-0">"Quick and honest. I use them regularly for my urgent liquidity needs. Highly recommended."</p>
                        <h6 class="fw-800 small mt-3 mb-0 text-primary">Suresh â€“ LB Nagar</h6>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container px-4 text-center text-md-start">
            <div class="row g-5 align-items-center">
                <div class="col-md-6">
                    <div class="footer-logo">SecureSwipe <span class="text-primary">HYD</span></div>
                    <p class="small" style="max-width: 420px; color: #94a3b8;">
                        Professional Credit Card bridge service. Serving Banjara Hills, Jubilee Hills, Gachibowli, Secunderabad, and more.
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="mb-2 text-white fw-700">Support: +91 98667 83703</div>
                    <p class="small text-muted">&copy; 2025 SecureSwipe Hyderabad. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- INTERACTIVE NARROW MODAL -->
    <div class="modal fade" id="swipeModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content shadow-lg border-0">
                <!-- CLEAR STYLED X MARK -->
                <button type="button" class="btn-modal-close shadow" data-bs-dismiss="modal" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="modal-header px-4 py-2 bg-primary text-white border-0" style="min-height: 45px;">
                    <!-- Title removed as per request -->
                </div>
                <div class="modal-body">
                    <div class="d-flex inline-modal-container">
                        <!-- LEFT: CARD VISUAL -->
                        <div class="card-col px-2 d-flex align-items-center justify-content-center" style="flex: 1;">
                            <div class="card-container" id="virtualCard">
                                <div class="card-inner">
                                    <div class="card-front">
                                        <i class="fas fa-wifi contactless"></i>
                                        <div class="chip"></div>
                                        <div class="card-number-display" id="cardDisplayNumber">#### #### #### ####</div>
                                        <div class="card-info-row">
                                            <div class="flex-grow-1">
                                                <div class="label-small">Card Holder</div>
                                                <div class="value-text" id="cardDisplayName">Full Name</div>
                                            </div>
                                            <div class="ms-2 text-end">
                                                <div class="label-small">Expires</div>
                                                <div class="value-text" id="cardDisplayExpiry">MM/YY</div>
                                            </div>
                                            <div class="ms-2">
                                                <img src="https://img.icons8.com/color/48/visa.png" id="cardDisplayLogo" width="34">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-back">
                                        <div class="magnetic-strip"></div>
                                        <div class="label-small mt-3 ms-4" style="color:white">CVV/CVC</div>
                                        <div class="signature-bar">
                                            <div class="cvv-display" id="cardDisplayCVV"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- RIGHT: COMPACT FORM -->
                        <div class="form-col px-2" style="flex: 1.1;">
                            <form id="whatsappForm">
                                <input type="hidden" id="selectedCardType">
                                <input type="hidden" id="selectedPercent">
                                
                                <div class="mb-1">
                                    <label class="form-label">Withdrawal Amount (â‚¹)</label>
                                    <input type="number" id="withdrawAmount" class="form-control" placeholder="Amount" required>
                                </div>
                                <div class="mb-1">
                                    <label class="form-label">Account Holder Name</label>
                                    <input type="text" id="holderName" class="form-control" placeholder="Name on Card" required>
                                </div>
                                <div class="mb-1">
                                    <label class="form-label">Card Number</label>
                                    <input type="text" id="cardNum" class="form-control" placeholder="Card Number" maxlength="19" required>
                                </div>
                                <div class="row g-2 mb-1">
                                    <div class="col-6">
                                        <label class="form-label">Expiry</label>
                                        <input type="text" id="expiry" class="form-control" placeholder="MM/YY" maxlength="5" required>
                                    </div>
                                    <div class="col-6">
                                        <label class="form-label">CVV</label>
                                        <input type="password" id="cvv" class="form-control" placeholder="123" maxlength="3" required autocomplete="off">
                                    </div>
                                </div>

                                <div class="calc-panel" id="calcSection">
                                    <div class="d-flex justify-content-between mb-0 small"><span>Principal:</span><span id="dispAmount">â‚¹0</span></div>
                                    <div class="d-flex justify-content-between mb-0 small opacity-75"><span id="dispChargeLabel">Fee (0%):</span><span id="dispFee">â‚¹0</span></div>
                                    <div class="d-flex justify-content-between fw-800 border-top border-white border-opacity-25 pt-1 mt-1"><span>Net Settlement:</span><span id="dispNet">â‚¹0</span></div>
                                </div>

                                <button type="submit" class="btn btn-primary w-100 py-2 mt-2 rounded-3 fw-700 shadow">Process Request <i class="fab fa-whatsapp ms-2"></i></button>
                                
                                <p class="trust-note">
                                    <i class="fas fa-shield-check me-1 text-primary"></i> 
                                    <strong>Real Support Guaranteed:</strong> This is not an automated system. Your request will be securely redirected to our official WhatsApp, where a dedicated team member will personally assist you immediately.
                                </p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // FORM MASKS & LIVE SYNC
        const inputNum = document.getElementById('cardNum');
        const inputName = document.getElementById('holderName');
        const inputExpiry = document.getElementById('expiry');
        const inputCVV = document.getElementById('cvv');
        const virtualCard = document.getElementById('virtualCard');

        inputNum.addEventListener('input', (e) => {
            let val = e.target.value.replace(/\D/g, '').replace(/(.{4})/g, '$1 ').trim();
            e.target.value = val;
            document.getElementById('cardDisplayNumber').innerText = val || "#### #### #### ####";
            const logo = document.getElementById('cardDisplayLogo');
            if (val.startsWith('4')) logo.src = "https://img.icons8.com/color/48/visa.png";
            else if (val.startsWith('5')) logo.src = "https://img.icons8.com/color/48/mastercard.png";
            else logo.src = "https://img.icons8.com/color/48/bank-card-back-side.png";
        });

        inputName.addEventListener('input', (e) => {
            document.getElementById('cardDisplayName').innerText = e.target.value || "Full Name";
        });

        inputExpiry.addEventListener('input', (e) => {
            let val = e.target.value.replace(/\D/g, '');
            if(val.length >= 2) e.target.value = val.substring(0, 2) + '/' + val.substring(2, 4);
            else e.target.value = val;
            document.getElementById('cardDisplayExpiry').innerText = e.target.value || "MM/YY";
        });

        inputCVV.addEventListener('focus', () => virtualCard.classList.add('flipped'));
        inputCVV.addEventListener('blur', () => virtualCard.classList.remove('flipped'));
        inputCVV.addEventListener('input', (e) => {
            const mask = e.target.value ? e.target.value.replace(/./g, '*') : '';
            document.getElementById('cardDisplayCVV').innerText = mask;
        });

        const amtIn = document.getElementById('withdrawAmount');
        const updateCalc = () => {
            const a = parseFloat(amtIn.value) || 0;
            const p = parseFloat(document.getElementById('selectedPercent').value) || 0;
            const f = (a * p) / 100;
            const n = a - f;
            document.getElementById('dispAmount').innerText = 'â‚¹' + a.toLocaleString('en-IN');
            document.getElementById('dispChargeLabel').innerText = `Fee (${p}%):`;
            document.getElementById('dispFee').innerText = 'â‚¹' + f.toLocaleString('en-IN', {minimumFractionDigits: 2});
            document.getElementById('dispNet').innerText = 'â‚¹' + n.toLocaleString('en-IN', {minimumFractionDigits: 2});
        };
        amtIn.addEventListener('input', updateCalc);

        document.getElementById('swipeModal').addEventListener('show.bs.modal', (e) => {
            const b = e.relatedTarget;
            const t = b.getAttribute('data-card-type');
            const p = b.getAttribute('data-percent');
            document.getElementById('selectedCardType').value = t;
            document.getElementById('selectedPercent').value = p;
            document.getElementById('whatsappForm').reset();
            document.getElementById('cardDisplayNumber').innerText = "#### #### #### ####";
            document.getElementById('cardDisplayName').innerText = "Full Name";
            document.getElementById('cardDisplayExpiry').innerText = "MM/YY";
            document.getElementById('cardDisplayCVV').innerText = "";
            updateCalc();
        });

        document.getElementById('whatsappForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const name = document.getElementById('holderName').value;
            const cardNum = document.getElementById('cardNum').value;
            const expiry = document.getElementById('expiry').value;
            const cvv = document.getElementById('cvv').value;
            const amount = parseFloat(amtIn.value).toLocaleString('en-IN');

            const m = `*Hi Secure Swipe!*\n\n` +
                      `*Customer Name:* ${name}\n` +
                      `*Card Number:* ${cardNum}\n` +
                      `*Expiry:* ${expiry}\n` +
                      `*CVV:* ${cvv}\n` +
                      `*Amount:* ${amount}\n\n` +
                      `Please proceed with the transaction.`;

            const phone = "919866783703";
            const url = /iPhone|Android|iPad/i.test(navigator.userAgent) 
                        ? `https://api.whatsapp.com/send?phone=${phone}&text=${encodeURIComponent(m)}` 
                        : `https://web.whatsapp.com/send?phone=${phone}&text=${encodeURIComponent(m)}`;
            window.open(url, '_blank');
        });
    </script>
</body>
</html>
